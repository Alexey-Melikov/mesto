(()=>{"use strict";class t{constructor(t,e,s,n,i,o){this._name=t.name,this._link=t.link,this._likes=t.likes,this._alternative=t.alternative,this._templateSelectors=e,this._handleCardClick=s,this._owner=t.owner._id,this._clientId=n,this._cardId=t._id,this._handleCallbackDeleteCardOpenPopup=i,this._handleCardLike=o}_getTemplate(t){return document.querySelector(t).content.querySelector(".places__place").cloneNode(!0)}generateCard(){return this._element=this._clientId===this._owner?this._getTemplate(this._templateSelectors.owner):this._getTemplate(this._templateSelectors.anoser),this._deleteIcon=this._element.querySelector(".places__delete-icon"),this._cardImage=this._element.querySelector(".places__image"),this._cardImage.src=this._link,this._cardImage.alt=this._alternative,this._element.querySelector(".places__depiction").textContent=this._name,this._likeCalculator=this._element.querySelector(".places__like-calculator"),this._likeCalculator.textContent=this._likes.length,this._likes.find((t=>t._id===this._clientId))&&this._element.querySelector(".places__heart").classList.add("places__heart_active"),this._setEventListeners(),this._element}_setEventListeners(){this._element.querySelector(".places__heart").addEventListener("click",(()=>{this._handleCardLike(this._likeCalculator,this._element,this._cardId)})),this._deleteIcon&&this._deleteIcon.addEventListener("click",(()=>{this._handleCallbackDeleteCardOpenPopup(this._cardId,this._element)})),this._cardImage.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))}}class e{constructor(t,e){this._config=t,this._form=e,this._inputList=Array.from(this._form.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._form.querySelector(this._config.submitButtonSelector)}_hideInputError(t){this._errorElement=this._form.querySelector(`.${t.id}-error`),t.classList.remove(this._config.inputErrorClass),this._errorElement.classList.remove(this._config.errorClass),this._errorElement.textContent=""}_showInputError(t){this._errorElement=this._form.querySelector(`.${t.id}-error`),t.classList.add(this._config.inputErrorClass),this._errorElement.textContent=t.validationMessage,this._errorElement.classList.add(this._config.errorClass)}_checkInputValidity(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}_hasInvalidInput(){return this._inputList.some((t=>!t.validity.valid))}_disableSubmitButton(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0}_enableSubmitButton(){this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1}_toggleButtonState(){this._hasInvalidInput()?this._disableSubmitButton():this._enableSubmitButton()}_setEventListeners(){this._inputList.forEach((t=>{t.addEventListener("input",(()=>{this._checkInputValidity(t),this._toggleButtonState()}))}))}resetValidation(){this._toggleButtonState(),this._inputList.forEach((t=>{this._hideInputError(t)}))}enableValidation(){this._setEventListeners()}}class s{constructor(t){this._popup=document.querySelector(t)}open(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=t=>{"Escape"===t.key&&this.close()};setEventListeners(){this._popup.addEventListener("mousedown",(t=>{t.target.classList.contains("popup_opened")&&this.close(),t.target.classList.contains("popup__close-button")&&this.close()}))}}class n extends s{constructor(t,e){super(t),this._handlerFormSubmit=e,this._popupForm=this._popup.querySelector(".popup__form"),this._inputList=this._popupForm.querySelectorAll(".popup__input"),this._loadingButton=this._popup.querySelector(".popup__button"),this._initialButtonTextContent=this._loadingButton.textContent}close(){super.close(),this._popupForm.reset()}loadingProc(t){this._loadingButton.textContent=t?"Сохранение...":this._initialButtonTextContent}setInputValues(t){this._inputList.forEach((e=>{e.value=t[e.name]}))}_getInputValues(){return this._formData={},this._inputList.forEach((t=>{this._formData[t.name]=t.value})),this._formData}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(t=>{t.preventDefault(),this._handlerFormSubmit(this._getInputValues()),this.close()}))}}const i=document.querySelector(".places"),o={owner:"#template-place-owner",anoser:"#template-place"},r=document.querySelector(".profile__edit-button"),a=(document.querySelector("#popup__profile-setting").querySelector("#profile-setting_close-button"),document.querySelector(".profile__avatar-button")),l=(document.querySelector(".popup__input_name"),document.querySelector(".profile__name")),c=(document.querySelector(".popup__input_description"),document.querySelector(".profile__description")),h=document.querySelector(".profile__image"),u=document.querySelector(".profile__add-button"),p=(document.querySelector("#popup__cards-setting").querySelector("#cards-setting_close-button"),document.querySelector(".popup__input_title"),document.querySelector(".popup__input_url"),document.querySelector(".popup-image"),new class{constructor(t){this.url=t.url,this.headers=t.headers}_handleResponseStatus(t){return t.ok?t.json():Promise.reject(`Произошла ошибка: ${t.status}`)}getUserInformation(){return fetch(`${this.url}/users/me`,{method:"GET",headers:{authorization:this.headers,"Content-Type":"application/json"}}).then((t=>this._handleResponseStatus(t)))}getInitialCards(){return fetch(`${this.url}/cards`,{method:"GET",headers:{authorization:this.headers,"Content-Type":"application/json"}}).then((t=>this._handleResponseStatus(t)))}updateUserInformation(t){return fetch(`${this.url}/users/me`,{method:"PATCH",headers:{authorization:this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:t.name,about:t.about})}).then((t=>this._handleResponseStatus(t)))}handleAddCard(t){return fetch(`${this.url}/cards`,{method:"POST",headers:{authorization:this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:t.name,link:t.link})}).then((t=>this._handleResponseStatus(t)))}handleDeleteCard(t){return fetch(`${this.url}/cards/${t}`,{method:"DELETE",headers:{authorization:this.headers,"Content-Type":"application/json"}}).then((t=>this._handleResponseStatus(t)))}handleLikeCard(t){return fetch(`${this.url}/cards/likes/${t}`,{method:"PUT",headers:{authorization:this.headers,"Content-Type":"application/json"}}).then((t=>this._handleResponseStatus(t)))}handleDisLikeCard(t){return fetch(`${this.url}/cards/likes/${t}`,{method:"DELETE",headers:{authorization:this.headers,"Content-Type":"application/json"}}).then((t=>this._handleResponseStatus(t)))}userAvatarUpdate(t){return fetch(`${this.url}/users/me/avatar`,{method:"PATCH",headers:{authorization:this.headers,"Content-Type":"application/json"},body:JSON.stringify({avatar:t.avatarImput})}).then((t=>this._handleResponseStatus(t)))}}({url:"https://mesto.nomoreparties.co/v1/cohort-60",headers:"50c7d53e-b526-44ca-b3ac-53bfa1ff2f46"})),_={},d=new class{constructor(t,e,s){this._name=t,this._description=e,this._avatarInput=s}getUserInfo(){return this._userInfo={},this._userInfo.name=this._name.textContent,this._userInfo.about=this._description.textContent,this._userInfo}setUserInfo(t){this._name.textContent=t.name,this._description.textContent=t.about,this._avatarInput.src=t.avatar}setUserAvatar(t){this._avatarInput.src=t.avatar}}(l,c,h);function m(t,e){S.open({name:t,link:e})}function f(t,e){g.open(t,e)}const g=new class extends s{constructor(t,e){super(t),this._handlerFormSubmit=e,this._popupForm=this._popup.querySelector(".popup__form"),this._loadingButton=this._popup.querySelector(".popup__button"),this._initialButtonTextContent=this._loadingButton.textContent}loadingProc(t){this._loadingButton.textContent=t?"Сохранение...":this._initialButtonTextContent}open(t,e){this._card=e,this._cardId=t,super.open()}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(t=>{t.preventDefault(),this._handlerFormSubmit(this._cardId,this._card),this.close()}))}}("#delete-card",(function(t,e){g.loadingProc(!0),p.handleDeleteCard(t).then((()=>{e.remove()})).catch((t=>console.log(t))).finally((()=>{g.loadingProc(!1)}))}));var v;g.setEventListeners(),v={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(v.formSelector)).forEach((t=>{const s=new e(v,t),n=t.getAttribute("name");_[n]=s,s.enableValidation()}));const S=new class extends s{constructor(t){super(t),this._popupImage=this._popup.querySelector(".popup-image__image"),this._captionPopupImage=this._popup.querySelector(".popup-image__caption")}open(t){super.open(),this._captionPopupImage.textContent=t.name,this._popupImage.src=t.link,this._popupImage.alt=`Изображение ${t.name}`}}(".popup-image");S.setEventListeners();const y=new class{constructor(t,e){this._container=e,this._renderer=t}renderItems(t){t.reverse().forEach((t=>{this._renderer(t,this._container)}))}renderItem(t){this._renderer(t,this._container)}}((function(t,e){e.prepend(t)}),i);function C(t,e,s){const n=e.querySelector(".places__heart");n.classList.contains("places__heart_active")?p.handleDisLikeCard(s).then((e=>{t.textContent=`${e.likes.length}`,n.classList.remove("places__heart_active")})).catch((t=>console.log(t))):p.handleLikeCard(s).then((e=>{t.textContent=`${e.likes.length}`,n.classList.add("places__heart_active")}))}function E(e,s){return new t(e,o,m,s,f,C).generateCard()}const I=new n("#popup__cards-setting",(function(t){I.loadingProc(!0),p.handleAddCard(t).then((t=>y.renderItem(E(t,d.id)))).catch((t=>console.log(t))).finally((()=>{I.loadingProc(!1)}))}));I.setEventListeners();const L=new n("#popup__profile-setting",(function(t){L.loadingProc(!0),p.updateUserInformation(t).then((t=>{d.setUserInfo(t)})).catch((t=>console.log(t))).finally((()=>{L.loadingProc(!1)}))}));L.setEventListeners(),Promise.all([p.getUserInformation(),p.getInitialCards()]).then((t=>{const e=t[0],s=t[1];d.setUserInfo(e),h.src=e.avatar,d.id=e._id;const n=s.map((t=>E(t,d.id)));y.renderItems(n)})).catch((t=>console.log(t)));const b=new n("#update-avatar",(function(t){b.loadingProc(!0),p.userAvatarUpdate(t).then((t=>{d.setUserAvatar(t)})).catch((t=>console.log(t))).finally((()=>{b.loadingProc(!1)}))}));b.setEventListeners(),a.addEventListener("click",(function(){b.open(),_["update-avatar-form"].resetValidation()})),r.addEventListener("click",(function(){L.open(),L.setInputValues(d.getUserInfo()),_["profile-setup-form"].resetValidation()})),u.addEventListener("click",(function(){I.open(),_["cards-setting-form"].resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQzVCRCxFQUFZN0YsYUFBWSxHQUN4QmUsRUFDRzJCLGlCQUFpQm9ELEdBQ2pCakUsTUFBTWpJLElBQ0xrSixFQUFPUyxjQUFjM0osRUFBSyxJQUUzQmdLLE9BQU9DLEdBQVFDLFFBQVFDLElBQUlGLEtBQzNCRyxTQUFRLEtBQ1A2QixFQUFZN0YsYUFBWSxFQUFNLEdBRXBDLElBR0E2RixFQUFZeEcsb0JBRVpxQixFQUFhakUsaUJBQWlCLFNBQVMsV0FFckNvSixFQUFZOUcsT0FDWjhELEVBQWUsc0JBQXNCbkUsaUJBQ3ZDLElBRUErQixFQUFjaEUsaUJBQWlCLFNBQVMsV0FFdEMrSSxFQUFvQnpHLE9BQ3BCeUcsRUFBb0J0RixlQUFlNEMsRUFBT00sZUFDMUNQLEVBQWUsc0JBQXNCbkUsaUJBQ3ZDLElBRUFvQyxFQUFlckUsaUJBQWlCLFNBQVMsV0FFdkM4SSxFQUFVeEcsT0FDVjhELEVBQWUsc0JBQXNCbkUsaUJBQ3ZDLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICB0ZW1wbGF0ZVNlbGVjdG9ycyxcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgY2xpZW50SWQsXG4gICAgaGFuZGxlQ2FsbGJhY2tEZWxldGVDYXJkT3BlblBvcHVwLFxuICAgIGhhbmRsZUNhcmRMaWtlXG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fYWx0ZXJuYXRpdmUgPSBkYXRhLmFsdGVybmF0aXZlO1xuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3JzID0gdGVtcGxhdGVTZWxlY3RvcnM7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX293bmVyID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5fY2xpZW50SWQgPSBjbGllbnRJZDtcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9oYW5kbGVDYWxsYmFja0RlbGV0ZUNhcmRPcGVuUG9wdXAgPSBoYW5kbGVDYWxsYmFja0RlbGV0ZUNhcmRPcGVuUG9wdXA7XG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2UgPSBoYW5kbGVDYXJkTGlrZTtcbiAgfVxuICAvLyDQoNCw0LfQvNC10YLQutCwINC60LDRgNGC0L7Rh9C60LhcbiAgX2dldFRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGVtcGxhdGUpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc19fcGxhY2VcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgLy/Qv9GA0L7QstC10YDRj9C10Lwg0L7QsdC70LDQtNCw0YLQtdC70Y8gPT4g0LHQtdGA0LXQvCDRgtC10LzQv9C70LXQudGCXG4gICAgdGhpcy5fZWxlbWVudCA9XG4gICAgICB0aGlzLl9jbGllbnRJZCA9PT0gdGhpcy5fb3duZXJcbiAgICAgICAgPyB0aGlzLl9nZXRUZW1wbGF0ZSh0aGlzLl90ZW1wbGF0ZVNlbGVjdG9ycy5vd25lcilcbiAgICAgICAgOiB0aGlzLl9nZXRUZW1wbGF0ZSh0aGlzLl90ZW1wbGF0ZVNlbGVjdG9ycy5hbm9zZXIpO1xuICAgIHRoaXMuX2RlbGV0ZUljb24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzX19kZWxldGUtaWNvblwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzX19pbWFnZVwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fYWx0ZXJuYXRpdmU7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc19fZGVwaWN0aW9uXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICAvL0hFUkVIRVJFSEVSRUhFUkVIRVJFSEVSRUhFUkVIRVJFSEVSRUhFUkVIRVJFSEVSRUhFUkVIRVJFID0+XG4gICAgdGhpcy5fbGlrZUNhbGN1bGF0b3IgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5wbGFjZXNfX2xpa2UtY2FsY3VsYXRvclwiXG4gICAgKTtcbiAgICB0aGlzLl9saWtlQ2FsY3VsYXRvci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcblxuICAgIGlmICh0aGlzLl9saWtlcy5maW5kKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gdGhpcy5fY2xpZW50SWQpKSB7XG4gICAgICB0aGlzLl9lbGVtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc19faGVhcnRcIilcbiAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJwbGFjZXNfX2hlYXJ0X2FjdGl2ZVwiKTtcbiAgICB9XG4gICAgLy9IRVJFSEVSRUhFUkVIRVJFSEVSRUhFUkVIRVJFSEVSRUhFUkVIRVJFSEVSRUhFUkVIRVJFSEVSRSA9PlxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy9IRVJFSEVSRUhFUkVIRVJFSEVSRUhFUkVIRVJFSEVSRUhFUkVIRVJFSEVSRUhFUkVIRVJFSEVSRSA9PlxuICAgIHRoaXMuX2VsZW1lbnQgLy8g0KHRgtCw0LLQuNC8INC70LDQudC6XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wbGFjZXNfX2hlYXJ0XCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZExpa2UodGhpcy5fbGlrZUNhbGN1bGF0b3IsIHRoaXMuX2VsZW1lbnQsIHRoaXMuX2NhcmRJZCk7XG4gICAgICB9KTtcbiAgICAvL0hFUkVIRVJFSEVSRUhFUkVIRVJFSEVSRUhFUkVIRVJFSEVSRUhFUkVIRVJFSEVSRUhFUkVIRVJFID0+XG4gICAgaWYgKHRoaXMuX2RlbGV0ZUljb24pIHtcbiAgICAgIHRoaXMuX2RlbGV0ZUljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FsbGJhY2tEZWxldGVDYXJkT3BlblBvcHVwKHRoaXMuX2NhcmRJZCwgdGhpcy5fZWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2FyZCB9O1xuXG4vKlxuX3RvZ2dsZUxpa2UoZXZ0KSB7XG4gICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwicGxhY2VzX19oZWFydF9hY3RpdmVcIik7XG4gIH0gIFxuKi9cbi8qXG5cbnRoaXMuX2RlbGV0ZUljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIC8vdGhpcy5faGFuZGxlQ2FsbGJhY2tEZWxldGVDYXJkKHRoaXMuX2VsZW1lbnQpO1xuICAgIH0pO1xuXG5cbiAgX2RlbGV0ZUNhcmQoZWxlbWVudCkge1xuICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gIH1cblxuXG50aGlzLl9lbGVtZW50IC8vINCj0LTQsNC70Y/QtdC8INC60LDRgNGC0L7Rh9C60YNcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc19fZGVsZXRlLWljb25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9kZWxldGVDYXJkKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgfSk7Ki9cbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuaW5wdXRTZWxlY3RvcikgLy/Qn9C+0LvRg9GH0LDQtdC8INC40L3Qv9GD0YLRi1xuICAgICk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkXG4gICAgICA/IHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudClcbiAgICAgIDogdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgX2Rpc2FibGVTdWJtaXRCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTsgLy8g0KLQuNC/INC60L3QvtC/0LrQuCjRgdC+0YXRgNCw0L3QuNGPINC/0L7Qv9Cw0L/QsCkg0LLRi9C60LvRjtGH0LXQvdC90LBcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIF9lbmFibGVTdWJtaXRCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgdGhpcy5faGFzSW52YWxpZElucHV0KClcbiAgICAgID8gdGhpcy5fZGlzYWJsZVN1Ym1pdEJ1dHRvbigpXG4gICAgICA6IHRoaXMuX2VuYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuXG5leHBvcnQgeyBGb3JtVmFsaWRhdG9yIH07XG4iLCJjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpOyAvLyDQvtGC0LrRgNGL0YLRjCDQv9C+0L/QsNC/XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTsgLy8g0JfQsNC60YDRi9GC0Ywg0L/QvtC/0LDQv1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX29wZW5lZFwiKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fY2xvc2UtYnV0dG9uXCIpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuZXhwb3J0IHsgUG9wdXAgfTtcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlckZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVyRm9ybVN1Ym1pdCA9IGhhbmRsZXJGb3JtU3VibWl0O1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpO1xuICAgIHRoaXMuX2xvYWRpbmdCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XG4gICAgdGhpcy5faW5pdGlhbEJ1dHRvblRleHRDb250ZW50ID0gdGhpcy5fbG9hZGluZ0J1dHRvbi50ZXh0Q29udGVudFxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIGxvYWRpbmdQcm9jKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLl9sb2FkaW5nQnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2FkaW5nQnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5faW5pdGlhbEJ1dHRvblRleHRDb250ZW50O1xuICAgIH1cbiAgfVxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIC8vINGC0YPRgiDQstGB0YLQsNCy0LvRj9C10Lwg0LIgYHZhbHVlYCDQuNC90L/Rg9GC0LAg0LTQsNC90L3Ri9C1INC40Lcg0L7QsdGK0LXQutGC0LAg0L/QviDQsNGC0YDQuNCx0YPRgtGDIGBuYW1lYCDRjdGC0L7Qs9C+INC40L3Qv9GD0YLQsFxuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xuICAgIH0pO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2Zvcm1EYXRhID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtRGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9mb3JtRGF0YTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlckZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgUG9wdXBXaXRoRm9ybSB9O1xuIiwiY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG4vKiDQodCV0JrQptCY0K8g0KLQldCc0J/Qm9CV0JnQoiAo0JrQkNCg0KLQntCn0JrQmCkgKi9cbmNvbnN0IHBsYWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzXCIpOyAvLyDQsdC70L7QuiDQsiBodG1sINC00LvRjyDQutCw0YDRgtC+0YfQutC4XG5jb25zdCB0ZW1wbGF0ZVNlbGVjdG9ycyA9IHtcbiAgb3duZXI6IFwiI3RlbXBsYXRlLXBsYWNlLW93bmVyXCIsXG4gIGFub3NlcjogXCIjdGVtcGxhdGUtcGxhY2VcIixcbn07XG5cbi8qINCf0J7Qn9CQ0J8g0KDQldCU0JDQmtCi0JjQoNCe0JLQkNCd0JjQlSDQn9Cg0J7QpNCY0JvQryAqL1xuY29uc3QgcHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7IC8vINC60L3QvtC/0LrQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC/0YDQvtGE0LjQu9GB0Y9cbmNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXBfX3Byb2ZpbGUtc2V0dGluZ1wiKTsgLy8g0YHQtdC60YbQuNGPINC/0L7Qv9Cw0L9cbmNvbnN0IGNsb3NlQnV0dG9uUG9wdXBQcm9maWxlID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGUtc2V0dGluZ19jbG9zZS1idXR0b25cIlxuKTtcbmNvbnN0IGF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ1dHRvblwiKTtcbi8vINC60L3QvtC/0LrQsCDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L9cbi8vY29uc3QgZm9ybUVsUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1zZXR0aW5nX19mb3JtXCIpOyAvL9GE0L7RgNC80LAg0LjQvdC/0YPRgtC+0LJcbmNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X25hbWVcIik7IC8vINC40L3Qv9GD0YIg0YEg0LjQvNC10L3QtdC8XG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTsgLy8g0LjQvNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBkZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfZGVzY3JpcHRpb25cIik7IC8vINC40L3Qv9GD0YIg0YEg0L7Qv9C40YHQsNC90LjQtdC8XG5jb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7IC8vINC+0L/QuNGB0LDQvdC40LUg0L/RgNC+0YTQuNC70YHRj1xuY29uc3QgYXZhdGFySW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xuLyog0KDQldCU0JDQmtCi0JjQoNCe0JLQkNCd0JjQlSDQn9Cg0J7QpNCY0JvQryAqL1xuXG4vKiDQn9Ce0J/QkNCfINCU0J7QkdCQ0JLQm9CV0J3QmNCvINCa0JDQoNCi0J7Qp9Ca0JggKi9cbmNvbnN0IGNhcmRzQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpOyAvLyDQutC90L7Qv9C60LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQutCw0YDRgtC+0YfQtdC6XG5jb25zdCBwb3B1cENhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cF9fY2FyZHMtc2V0dGluZ1wiKTsgLy8g0YHQtdC60YbQuNGPINC/0L7Qv9Cw0L8g0YEg0LrQsNGA0YLQvtGH0LrQsNC80LhcbmNvbnN0IGNsb3NlQnV0dG9uQ2FyZHMgPSBwb3B1cENhcmRzLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI2NhcmRzLXNldHRpbmdfY2xvc2UtYnV0dG9uXCJcbik7IC8vINC60L3QvtC/0LrQsCDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L9cbi8vY29uc3QgZm9ybUVsQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRzLXNldHRpbmdfX2Zvcm1cIik7IC8v0YTQvtGA0LzQsCDQuNC90L/Rg9GC0L7QslxuY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3RpdGxlXCIpOyAvLyDQuNC90L/Rg9GCINGBINC90LDQt9Cy0LDQvdC40LXQvFxuY29uc3QgdXJsSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF91cmxcIik7IC8vINC40L3Qv9GD0YIg0YEg0YHRgdGL0LvQutC+0Llcbi8qINCf0J7Qn9CQ0J8g0JTQntCR0JDQktCb0JXQndCY0K8g0JrQkNCg0KLQntCn0JrQmCAqL1xuXG5jb25zdCBhcGlDb25maWcgPSB7XG4gIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTYwXCIsXG4gIGhlYWRlcnM6IFwiNTBjN2Q1M2UtYjUyNi00NGNhLWIzYWMtNTNiZmExZmYyZjQ2XCIsXG59O1xuXG4vKiDQn9Ce0J/QkNCfINCf0KDQntCh0JzQntCi0KDQkCDQmtCQ0KDQotCe0KfQmtCYICovXG5jb25zdCBwb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1pbWFnZVwiKTsgLy8g0L/QvtC/0LDQvyDRgSDQutCw0YDRgtC40L3QutC+0LlcblxuZXhwb3J0IHtcbiAgdGVtcGxhdGVTZWxlY3RvcnMsXG4gIHZhbGlkYXRpb25Db25maWcsXG4gIHBsYWNlcyxcbiAgcHJvZmlsZUJ1dHRvbixcbiAgcG9wdXBQcm9maWxlLFxuICBuYW1lSW5wdXQsXG4gIHByb2ZpbGVOYW1lLFxuICBkZXNjcmlwdGlvbklucHV0LFxuICBkZXNjcmlwdGlvbixcbiAgY2FyZHNBZGRCdXR0b24sXG4gIHBvcHVwQ2FyZHMsXG4gIHRpdGxlSW5wdXQsXG4gIHVybElucHV0LFxuICBwb3B1cEltYWdlLFxuICBjbG9zZUJ1dHRvblBvcHVwUHJvZmlsZSxcbiAgY2xvc2VCdXR0b25DYXJkcyxcbiAgYXBpQ29uZmlnLFxuICBhdmF0YXJJbWFnZSxcbiAgYXZhdGFyQnV0dG9uLFxufTtcbiIsImltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qc1wiO1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHtcbiAgdGVtcGxhdGVTZWxlY3RvcnMsXG4gIHZhbGlkYXRpb25Db25maWcsXG4gIHBsYWNlcyxcbiAgcHJvZmlsZUJ1dHRvbixcbiAgbmFtZUlucHV0LFxuICBwcm9maWxlTmFtZSxcbiAgZGVzY3JpcHRpb25JbnB1dCxcbiAgZGVzY3JpcHRpb24sXG4gIGNhcmRzQWRkQnV0dG9uLFxuICB0aXRsZUlucHV0LFxuICB1cmxJbnB1dCxcbiAgYXBpQ29uZmlnLFxuICBhdmF0YXJJbWFnZSxcbiAgYXZhdGFyQnV0dG9uLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuXG4vLyDQmtC70LDRgdGBIEFwaVxuY29uc3QgYXBpID0gbmV3IEFwaShhcGlDb25maWcpO1xuXG4vLyDQpNC+0YDQvNGLINCy0LDQu9C40LTQsNGG0LjQuFxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuLy8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMXG5jb25zdCBjbGllbnQgPSBuZXcgVXNlckluZm8ocHJvZmlsZU5hbWUsIGRlc2NyaXB0aW9uLCBhdmF0YXJJbWFnZSk7XG5cbi8vINC+0YLQutGA0YvRgtGMINC/0L7Qv9Cw0L8g0YEg0LrQsNGA0YLQuNC90LrQvtC5XG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluaykge1xuICBwb3B1cFdpdGhJbWFnZS5vcGVuKHsgbmFtZSwgbGluayB9KTtcbn1cblxuLy/QutC+0LvQsdGN0Log0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5mdW5jdGlvbiBoYW5kbGVDYWxsYmFja0RlbGV0ZUNhcmRPcGVuUG9wdXAoY2FyZElkLCBjYXJkKSB7XG4gIHBvcHVwQ29uZmlybS5vcGVuKGNhcmRJZCwgY2FyZCk7XG59XG4vL9C60L7Qu9Cx0Y3QuiDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmZ1bmN0aW9uIGhhbmRsZUNhbGxiYWNrRGVsZXRlQ2FyZChjYXJkSWQsIGNhcmQpIHtcbiAgcG9wdXBDb25maXJtLmxvYWRpbmdQcm9jKHRydWUpO1xuICBhcGlcbiAgICAuaGFuZGxlRGVsZXRlQ2FyZChjYXJkSWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY2FyZC5yZW1vdmUoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHBvcHVwQ29uZmlybS5sb2FkaW5nUHJvYyhmYWxzZSk7XG4gICAgfSlcbn1cbi8v0LrQu9Cw0YHRgSDQv9C+0L/QsNC/INGB0L7Qs9C70LDRgdC40Y8g0L3QsCDRg9C00LDQu9C10L3QuNGPXG5jb25zdCBwb3B1cENvbmZpcm0gPSBuZXcgUG9wdXBXaXRoQ29uZmlybShcbiAgXCIjZGVsZXRlLWNhcmRcIixcbiAgaGFuZGxlQ2FsbGJhY2tEZWxldGVDYXJkXG4pO1xucG9wdXBDb25maXJtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vINCS0LrQu9GO0YfQtdC90LjQtSDQstCw0LvQuNC00LDRhtC40LhcbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FbGVtZW50KTtcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcbmVuYWJsZVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZyk7XG5cbi8vINCa0LvQsNGB0YEgcG9wdXBXaXRoSW1hZ2UgID0+XG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cC1pbWFnZVwiKTtcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8v0YTRg9C90LrRhtC40Y8g0LTQu9GPIFNlY3Rpb25cbmZ1bmN0aW9uIHJlbmRlcmVyKGVsZW1lbnQsIGNvbnRhaW5lcikge1xuICBjb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbn1cblxuLy8g0JrQu9Cw0YHRgSBTZWN0aW9uICA9PlxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKHJlbmRlcmVyLCBwbGFjZXMpO1xuXG5mdW5jdGlvbiBoYW5kbGVDYWxsYmFja0NhcmQoY2FyZCkge1xuICBwb3B1cENhcmQubG9hZGluZ1Byb2ModHJ1ZSk7XG4gIGFwaVxuICAgIC5oYW5kbGVBZGRDYXJkKGNhcmQpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJldHVybiBzZWN0aW9uLnJlbmRlckl0ZW0oY3JlYXRlQ2FyZChkYXRhLCBjbGllbnQuaWQpKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHBvcHVwQ2FyZC5sb2FkaW5nUHJvYyhmYWxzZSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmRMaWtlKGNvdW50ZXIsIGNhcmQsIGNhcmRJZCkge1xuICBjb25zdCBoZWFydEJ1dHRvbiA9IGNhcmQucXVlcnlTZWxlY3RvcihcIi5wbGFjZXNfX2hlYXJ0XCIpO1xuICBpZiAoIWhlYXJ0QnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcInBsYWNlc19faGVhcnRfYWN0aXZlXCIpKSB7XG4gICAgYXBpLmhhbmRsZUxpa2VDYXJkKGNhcmRJZCkudGhlbigocmVzKSA9PiB7XG4gICAgICBjb3VudGVyLnRleHRDb250ZW50ID0gYCR7cmVzLmxpa2VzLmxlbmd0aH1gO1xuICAgICAgaGVhcnRCdXR0b24uY2xhc3NMaXN0LmFkZChcInBsYWNlc19faGVhcnRfYWN0aXZlXCIpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGFwaVxuICAgICAgLmhhbmRsZURpc0xpa2VDYXJkKGNhcmRJZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgY291bnRlci50ZXh0Q29udGVudCA9IGAke3Jlcy5saWtlcy5sZW5ndGh9YDtcbiAgICAgICAgaGVhcnRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcInBsYWNlc19faGVhcnRfYWN0aXZlXCIpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxufVxuXG4vLyDRgdC+0LfQtNCw0ZHQvCDQutCw0YDRgtC+0YfQutGDXG5mdW5jdGlvbiBjcmVhdGVDYXJkKG9iamVjdCwgY2xpZW50SWQpIHtcbiAgLy9jb25zb2xlLmxvZyh1c2VySW5mbyk7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBvYmplY3QsXG4gICAgdGVtcGxhdGVTZWxlY3RvcnMsXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxuICAgIGNsaWVudElkLFxuICAgIGhhbmRsZUNhbGxiYWNrRGVsZXRlQ2FyZE9wZW5Qb3B1cCxcbiAgICBoYW5kbGVDYXJkTGlrZVxuICApO1xuICByZXR1cm4gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn1cblxuLy8g0JrQu9Cw0YHRgSDQv9C+0L/QsNC/INC60LDRgNGC0L7Rh9C60LggPT5cbmNvbnN0IHBvcHVwQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwb3B1cF9fY2FyZHMtc2V0dGluZ1wiLFxuICBoYW5kbGVDYWxsYmFja0NhcmRcbik7XG5wb3B1cENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8g0JrQu9Cw0YHRgSDQv9C+0L/QsNC/INC/0YDQvtGE0LjQu9GPLCDRjtC30LXRgNCwID0+XG5mdW5jdGlvbiBoYW5kbGVDYWxsYmFja1Byb2ZpbGUob2JqZWN0KSB7XG4gIHBvcHVwUHJvZmlsZVNldHRpbmcubG9hZGluZ1Byb2ModHJ1ZSk7XG4gIGFwaVxuICAgIC51cGRhdGVVc2VySW5mb3JtYXRpb24ob2JqZWN0KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjbGllbnQuc2V0VXNlckluZm8oZGF0YSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwb3B1cFByb2ZpbGVTZXR0aW5nLmxvYWRpbmdQcm9jKGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLy8g0LrQu9Cw0YHRgSDQv9C+0L/QsNC/INC/0YDQvtGE0LjQu9GPID0+XG5jb25zdCBwb3B1cFByb2ZpbGVTZXR0aW5nID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI3BvcHVwX19wcm9maWxlLXNldHRpbmdcIixcbiAgaGFuZGxlQ2FsbGJhY2tQcm9maWxlXG4pO1xucG9wdXBQcm9maWxlU2V0dGluZy5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL9C00LDQvdC90YvQtSDQv9GA0L7RhNC40LvRjyAsINC60LDRgNGC0L7Rh9C60LhcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm9ybWF0aW9uKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXG4gIC50aGVuKChyZXMpID0+IHtcbiAgICBjb25zdCB1c2VySW5mbyA9IHJlc1swXTtcbiAgICBjb25zdCBpbml0aWFsQ2FyZHMgPSByZXNbMV07XG5cbiAgICBjbGllbnQuc2V0VXNlckluZm8odXNlckluZm8pO1xuICAgIGF2YXRhckltYWdlLnNyYyA9IHVzZXJJbmZvLmF2YXRhcjtcbiAgICBjbGllbnQuaWQgPSB1c2VySW5mby5faWQ7XG5cbiAgICBjb25zdCBkZWZhdWx0Q2FyZExpc3QgPSBpbml0aWFsQ2FyZHMubWFwKChkYXRhKSA9PiB7XG4gICAgICByZXR1cm4gY3JlYXRlQ2FyZChkYXRhLCBjbGllbnQuaWQpO1xuICAgIH0pO1xuXG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcyhkZWZhdWx0Q2FyZExpc3QpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4vL1xuZnVuY3Rpb24gaGFuZGxlQ2FsbGJhY2tBdmF0YXIodmFsdWVzKSB7XG4gIHBvcHVwQXZhdGFyLmxvYWRpbmdQcm9jKHRydWUpO1xuICBhcGlcbiAgICAudXNlckF2YXRhclVwZGF0ZSh2YWx1ZXMpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNsaWVudC5zZXRVc2VyQXZhdGFyKGRhdGEpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXBBdmF0YXIubG9hZGluZ1Byb2MoZmFsc2UpO1xuICAgIH0pXG59XG4vLyDQutC70LDRgdGBINC/0L7Qv9Cw0L8g0LDQstCw0YLQsNGAXG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3VwZGF0ZS1hdmF0YXJcIiwgaGFuZGxlQ2FsbGJhY2tBdmF0YXIpO1xucG9wdXBBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuYXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIC8v0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0L/QviDQvdCw0LbQsNGC0LjRjiDQvdCwINC60L3QvtC/0LrRgyDQntCx0L3QvtCy0LvQtdC90LjQtSDQsNCy0LDRgtCw0YDQsFxuICBwb3B1cEF2YXRhci5vcGVuKCk7XG4gIGZvcm1WYWxpZGF0b3JzW1widXBkYXRlLWF2YXRhci1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbnByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgLy8g0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0L/QviDQvdCw0LbQsNGC0LjRjiDQvdCwINC60L3QvtC/0LrRgyDQv9GA0L7RhNC40LvRj1xuICBwb3B1cFByb2ZpbGVTZXR0aW5nLm9wZW4oKTtcbiAgcG9wdXBQcm9maWxlU2V0dGluZy5zZXRJbnB1dFZhbHVlcyhjbGllbnQuZ2V0VXNlckluZm8oKSk7XG4gIGZvcm1WYWxpZGF0b3JzW1wicHJvZmlsZS1zZXR1cC1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbmNhcmRzQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIC8v0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0L/QviDQvdCw0LbQsNGC0LjRjiDQvdCwINC60L3QvtC/0LrRgyDQtNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG4gIHBvcHVwQ2FyZC5vcGVuKCk7XG4gIGZvcm1WYWxpZGF0b3JzW1wiY2FyZHMtc2V0dGluZy1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbi8qXG5cbiovXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBhcGkge1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgdGhpcy51cmwgPSBjb25maWcudXJsO1xyXG4gICAgdGhpcy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlUmVzcG9uc2VTdGF0dXMocmVzKSB7XHJcbiAgICByZXR1cm4gcmVzLm9rXHJcbiAgICAgID8gcmVzLmpzb24oKVxyXG4gICAgICA6IFByb21pc2UucmVqZWN0KGDQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mb3JtYXRpb24oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlU3RhdHVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuaGVhZGVycyxcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2VTdGF0dXMocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlVXNlckluZm9ybWF0aW9uKHVzZXJJbmZvKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuaGVhZGVycyxcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IHVzZXJJbmZvLm5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IHVzZXJJbmZvLmFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2VTdGF0dXMocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQWRkQ2FyZChjYXJkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5oZWFkZXJzLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogY2FyZC5uYW1lLFxyXG4gICAgICAgIGxpbms6IGNhcmQubGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlU3RhdHVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZURlbGV0ZUNhcmQoY2FyZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkcy8ke2NhcmR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlU3RhdHVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUxpa2VDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzL2xpa2VzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlU3RhdHVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZURpc0xpa2VDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzL2xpa2VzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlU3RhdHVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHVzZXJBdmF0YXJVcGRhdGUodXNlckluZm8pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuaGVhZGVycyxcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogdXNlckluZm8uYXZhdGFySW1wdXRcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlU3RhdHVzKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8qIFxyXG5cclxuXHJcblxyXG5yZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5oZWFkZXJzLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogXCJNYXJpZSBTa8WCb2Rvd3NrYSBDdXJpZVwiLFxyXG4gICAgICAgIGFib3V0OiBcIlBoeXNpY2lzdCBhbmQgQ2hlbWlzdFwiLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXHJcbiAgICAgIG5ldyBFcnJvcihg0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApXHJcblxyXG5cclxuKi9cclxuIiwiY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihuYW1lSW5wdXQsIGRlc2NyaXB0aW9uSW5wdXQsIGF2YXRhcklucHV0KSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWVJbnB1dDtcbiAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uSW5wdXQ7XG4gICAgdGhpcy5fYXZhdGFySW5wdXQgPSBhdmF0YXJJbnB1dDtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHRoaXMuX3VzZXJJbmZvID0ge307XG4gICAgdGhpcy5fdXNlckluZm8ubmFtZSA9IHRoaXMuX25hbWUudGV4dENvbnRlbnQ7XG4gICAgdGhpcy5fdXNlckluZm8uYWJvdXQgPSB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudDtcbiAgICByZXR1cm4gdGhpcy5fdXNlckluZm87XG4gIH1cblxuICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gICAgdGhpcy5fYXZhdGFySW5wdXQuc3JjID0gZGF0YS5hdmF0YXI7XG4gIH1cblxuICBzZXRVc2VyQXZhdGFyKGRhdGEpIHtcbiAgICB0aGlzLl9hdmF0YXJJbnB1dC5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgfVxufVxuZXhwb3J0IHsgVXNlckluZm8gfTtcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlckZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlckZvcm1TdWJtaXQgPSBoYW5kbGVyRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9sb2FkaW5nQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5faW5pdGlhbEJ1dHRvblRleHRDb250ZW50ID0gdGhpcy5fbG9hZGluZ0J1dHRvbi50ZXh0Q29udGVudFxyXG4gIH1cclxuXHJcbiAgbG9hZGluZ1Byb2ModmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICB0aGlzLl9sb2FkaW5nQnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbG9hZGluZ0J1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX2luaXRpYWxCdXR0b25UZXh0Q29udGVudDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9wZW4oY2FyZElkLCBjYXJkKSB7XHJcbiAgICB0aGlzLl9jYXJkID0gY2FyZDtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGNhcmRJZDtcclxuICAgIHN1cGVyLm9wZW4oKVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVyRm9ybVN1Ym1pdCh0aGlzLl9jYXJkSWQsIHRoaXMuX2NhcmQpXHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWltYWdlX19pbWFnZVwiKTsgLy/QutCw0YDRgtC40L3QutCwINC/0L7Qv9Cw0L/QsFxuICAgIHRoaXMuX2NhcHRpb25Qb3B1cEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcbiAgICAgIC8vINCe0L/QuNGB0LDQvdC40LUg0LrQsNGA0YLQuNC90LrQuFxuICAgICAgXCIucG9wdXAtaW1hZ2VfX2NhcHRpb25cIlxuICAgICk7XG4gIH1cblxuICBvcGVuKGltYWdlKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2NhcHRpb25Qb3B1cEltYWdlLnRleHRDb250ZW50ID0gaW1hZ2UubmFtZTtcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGltYWdlLmxpbms7XG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBg0JjQt9C+0LHRgNCw0LbQtdC90LjQtSAke2ltYWdlLm5hbWV9YDtcbiAgfVxufVxuXG5leHBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9O1xuIiwiY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBjb250YWluZXIpIHtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKG9iamVjdCkge1xuICAgIG9iamVjdC5yZXZlcnNlKCkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoZWxlbWVudCwgdGhpcy5fY29udGFpbmVyKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlckl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX3JlbmRlcmVyKGVsZW1lbnQsIHRoaXMuX2NvbnRhaW5lcik7XG4gIH1cbn1cblxuZXhwb3J0IHsgU2VjdGlvbiB9O1xuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9ycyIsImhhbmRsZUNhcmRDbGljayIsImNsaWVudElkIiwiaGFuZGxlQ2FsbGJhY2tEZWxldGVDYXJkT3BlblBvcHVwIiwiaGFuZGxlQ2FyZExpa2UiLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfYWx0ZXJuYXRpdmUiLCJhbHRlcm5hdGl2ZSIsIl90ZW1wbGF0ZVNlbGVjdG9ycyIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfb3duZXIiLCJvd25lciIsIl9pZCIsIl9jbGllbnRJZCIsIl9jYXJkSWQiLCJfaGFuZGxlQ2FsbGJhY2tEZWxldGVDYXJkT3BlblBvcHVwIiwiX2hhbmRsZUNhcmRMaWtlIiwiX2dldFRlbXBsYXRlIiwidGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2VuZXJhdGVDYXJkIiwiX2VsZW1lbnQiLCJhbm9zZXIiLCJfZGVsZXRlSWNvbiIsIl9jYXJkSW1hZ2UiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIl9saWtlQ2FsY3VsYXRvciIsImxlbmd0aCIsImZpbmQiLCJsaWtlIiwiY2xhc3NMaXN0IiwiYWRkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtIiwiX2NvbmZpZyIsIl9mb3JtIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9oaWRlSW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsIl9lcnJvckVsZW1lbnQiLCJpZCIsInJlbW92ZSIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJfZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsIl9lbmFibGVTdWJtaXRCdXR0b24iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwicmVzZXRWYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZXJGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlckZvcm1TdWJtaXQiLCJfcG9wdXBGb3JtIiwiX2xvYWRpbmdCdXR0b24iLCJfaW5pdGlhbEJ1dHRvblRleHRDb250ZW50IiwicmVzZXQiLCJsb2FkaW5nUHJvYyIsInZhbHVlIiwic2V0SW5wdXRWYWx1ZXMiLCJpbnB1dCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9mb3JtRGF0YSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJwbGFjZXMiLCJwcm9maWxlQnV0dG9uIiwiYXZhdGFyQnV0dG9uIiwicHJvZmlsZU5hbWUiLCJkZXNjcmlwdGlvbiIsImF2YXRhckltYWdlIiwiY2FyZHNBZGRCdXR0b24iLCJhcGkiLCJ1cmwiLCJoZWFkZXJzIiwiX2hhbmRsZVJlc3BvbnNlU3RhdHVzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldFVzZXJJbmZvcm1hdGlvbiIsImZldGNoIiwibWV0aG9kIiwiYXV0aG9yaXphdGlvbiIsInRoZW4iLCJnZXRJbml0aWFsQ2FyZHMiLCJ1cGRhdGVVc2VySW5mb3JtYXRpb24iLCJ1c2VySW5mbyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJoYW5kbGVBZGRDYXJkIiwiY2FyZCIsImhhbmRsZURlbGV0ZUNhcmQiLCJoYW5kbGVMaWtlQ2FyZCIsImhhbmRsZURpc0xpa2VDYXJkIiwidXNlckF2YXRhclVwZGF0ZSIsImF2YXRhciIsImF2YXRhckltcHV0IiwiZm9ybVZhbGlkYXRvcnMiLCJjbGllbnQiLCJuYW1lSW5wdXQiLCJkZXNjcmlwdGlvbklucHV0IiwiYXZhdGFySW5wdXQiLCJfZGVzY3JpcHRpb24iLCJfYXZhdGFySW5wdXQiLCJnZXRVc2VySW5mbyIsIl91c2VySW5mbyIsInNldFVzZXJJbmZvIiwic2V0VXNlckF2YXRhciIsInBvcHVwV2l0aEltYWdlIiwiY2FyZElkIiwicG9wdXBDb25maXJtIiwiX2NhcmQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwiZm9ybVNlbGVjdG9yIiwiZm9ybUVsZW1lbnQiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsIl9wb3B1cEltYWdlIiwiX2NhcHRpb25Qb3B1cEltYWdlIiwiaW1hZ2UiLCJzZWN0aW9uIiwicmVuZGVyZXIiLCJjb250YWluZXIiLCJfY29udGFpbmVyIiwiX3JlbmRlcmVyIiwicmVuZGVySXRlbXMiLCJvYmplY3QiLCJyZXZlcnNlIiwiZWxlbWVudCIsInJlbmRlckl0ZW0iLCJwcmVwZW5kIiwiY291bnRlciIsImhlYXJ0QnV0dG9uIiwiY3JlYXRlQ2FyZCIsInBvcHVwQ2FyZCIsInBvcHVwUHJvZmlsZVNldHRpbmciLCJhbGwiLCJpbml0aWFsQ2FyZHMiLCJkZWZhdWx0Q2FyZExpc3QiLCJtYXAiLCJwb3B1cEF2YXRhciIsInZhbHVlcyJdLCJzb3VyY2VSb290IjoiIn0=