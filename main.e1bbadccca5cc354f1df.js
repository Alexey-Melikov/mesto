(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&(t=s.currentScript.src),!t)){var i=s.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();class t{constructor(e,t,s){this._name=e.name,this._link=e.link,this._alternative=e.alternative,this._templateSelector=t,this._handleCardClick=s}_getTemplate(){return document.querySelector(this._templateSelector).content.querySelector(".places__place").cloneNode(!0)}_toggleLike(e){e.target.classList.toggle("places__heart_active")}_deleteCard(e){e.remove()}_setEventListeners(){this._element.querySelector(".places__heart").addEventListener("click",this._toggleLike),this._element.querySelector(".places__delete-icon").addEventListener("click",(()=>{this._deleteCard(this._element)})),this._cardImage.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))}generateCard(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".places__image"),this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._alternative,this._element.querySelector(".places__depiction").textContent=this._name,this._element}}class s{constructor(e,t){this._config=e,this._form=t,this._inputList=Array.from(this._form.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._form.querySelector(this._config.submitButtonSelector)}_hideInputError(e){this._errorElement=this._form.querySelector(`.${e.id}-error`),e.classList.remove(this._config.inputErrorClass),this._errorElement.classList.remove(this._config.errorClass),this._errorElement.textContent=""}_showInputError(e){this._errorElement=this._form.querySelector(`.${e.id}-error`),e.classList.add(this._config.inputErrorClass),this._errorElement.textContent=e.validationMessage,this._errorElement.classList.add(this._config.errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_disableSubmitButton(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0}_enableSubmitButton(){this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1}_toggleButtonState(){this._hasInvalidInput()?this._disableSubmitButton():this._enableSubmitButton()}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._setEventListeners()}}class i{constructor(e){this._popup=document.querySelector(e)}open(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popup.addEventListener("mousedown",(e=>{e.target.classList.contains("popup_opened")&&this.close(),e.target.classList.contains("popup__close-button")&&this.close()}))}}class r extends i{constructor(e,t){super(e),this._handlerFormSubmit=t,this._popupForm=this._popup.querySelector(".popup__form"),this._inputList=this._popupForm.querySelectorAll(".popup__input")}close(){super.close(),this._popupForm.reset()}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}_getInputValues(){return this._formData={},this._inputList.forEach((e=>{this._formData[e.name]=e.value})),this._formData}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handlerFormSubmit(this._getInputValues()),this.close()}))}}const n=[{name:"Горы алтая",link:e.p+"4491e752b5e39863fc80.jpg",alternative:"Изображение Горы алтая"},{name:"Камчатка",link:e.p+"6b7ad77dc5f7e1407dd6.jpg",alternative:"Изображение Камчатка"},{name:"Кунгурская пещера",link:e.p+"ef9c8d0257fe996080b8.jpg",alternative:"Изображение Кунгурская пещера"},{name:"Озеро эльтон",link:e.p+"61a13b461b8a7d0a6d32.jpg",alternative:"Изображение Озеро эльтон"},{name:"Мраморный каньон Рускеала",link:e.p+"d987e5abb9f5495b8ce2.jpg",alternative:"Изображение Мраморный каньон Рускеала"},{name:"Долина гейзеров",link:e.p+"b8cc9bf72a1e3172fcc2.jpg",alternative:"Изображение Долина гейзеров"}],o=document.querySelector(".places"),a=document.querySelector(".profile__edit-button"),p=(document.querySelector("#popup__profile-setting").querySelector("#profile-setting_close-button"),document.querySelector(".popup__input_name"),document.querySelector(".profile__name")),l=(document.querySelector(".popup__input_description"),document.querySelector(".profile__description")),c=document.querySelector(".profile__add-button"),u=(document.querySelector("#popup__cards-setting").querySelector("#cards-setting_close-button"),document.querySelector(".popup__input_title"),document.querySelector(".popup__input_url"),document.querySelector(".popup-image"),{});function _(e){return new t(e,"#template-place",h).generateCard()}function h(e,t){m.open({name:e,link:t})}var d;d={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(d.formSelector)).forEach((e=>{const t=new s(d,e),i=e.getAttribute("name");u[i]=t,t.enableValidation()}));const m=new class extends i{constructor(e){super(e),this._popupImage=this._popup.querySelector(".popup-image__image"),this._captionPopupImage=this._popup.querySelector(".popup-image__caption")}open(e){super.open(),this._captionPopupImage.textContent=e.name,this._popupImage.src=e.link,this._popupImage.alt=`Изображение ${e.name}`}}(".popup-image");m.setEventListeners();const g=new class{constructor({items:e,renderer:t},s){this._initialArray=e,this._container=s,this._renderer=t}renderItems(){this._initialArray.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:n,renderer:e=>{g.addItem(_(e))}},o);g.renderItems();const f=new r("#popup__cards-setting",(e=>{g.addItem(_(e))}));f.setEventListeners();const v=new class{constructor(e,t){this._name=e,this._description=t}getUserInfo(){return this._userInfo={},this._userInfo.username=this._name.textContent,this._userInfo.descriptionImput=this._description.textContent,this._userInfo}setUserInfo(e){this._name.textContent=e.username,this._description.textContent=e.descriptionImput}}(p,l),E=new r("#popup__profile-setting",(e=>{v.setUserInfo(e)}));E.setEventListeners(),a.addEventListener("click",(function(){E.open(),E.setInputValues(v.getUserInfo()),u["profile-setup-form"].resetValidation()})),c.addEventListener("click",(function(){f.open(),u["cards-setting-form"].resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BSEExSSxLQUFLMkksVUFBWSxDQUFDLEVBQ2xCM0ksS0FBSzJJLFVBQVVDLFNBQVc1SSxLQUFLcUIsTUFBTTBCLFlBQ3JDL0MsS0FBSzJJLFVBQVVFLGlCQUFtQjdJLEtBQUt5SSxhQUFhMUYsWUFDN0MvQyxLQUFLMkksU0FDZCxDQUVBRyxZQUFZNUgsR0FDVmxCLEtBQUtxQixNQUFNMEIsWUFBYzdCLEVBQUswSCxTQUM5QjVJLEtBQUt5SSxhQUFhMUYsWUFBYzdCLEVBQUsySCxnQkFDdkMsR0gwRDRCakMsRUFBYUMsR0FFckNrQyxFQUFzQixJQUFJbkQsRUFDOUIsMkJBQ0NxQixJQUNDcUIsRUFBU1EsWUFBWTdCLEVBQU8sSUFHaEM4QixFQUFvQnJELG9CQUVwQmlCLEVBQWNoRSxpQkFBaUIsU0FBUyxXQUV0Q29HLEVBQW9CMUQsT0FDcEIwRCxFQUFvQjdDLGVBQWVvQyxFQUFTSSxlQUM1QzNCLEVBQWUsc0JBQXNCL0IsaUJBQ3ZDLElBRUE4QixFQUFlbkUsaUJBQWlCLFNBQVMsV0FFdkMwRixFQUFVaEQsT0FDVjBCLEVBQWUsc0JBQXNCL0IsaUJBQ3ZDLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2FsdGVybmF0aXZlID0gZGF0YS5hbHRlcm5hdGl2ZTtcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzX19wbGFjZVwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIF90b2dnbGVMaWtlKGV2dCkge1xuICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcInBsYWNlc19faGVhcnRfYWN0aXZlXCIpO1xuICB9XG5cbiAgX2RlbGV0ZUNhcmQoZWxlbWVudCkge1xuICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZWxlbWVudCAvLyDQodGC0LDQstC40Lwg0LvQsNC50LpcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc19faGVhcnRcIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fdG9nZ2xlTGlrZSk7XG5cbiAgICB0aGlzLl9lbGVtZW50IC8vINCj0LTQsNC70Y/QtdC8INC60LDRgNGC0L7Rh9C60YNcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc19fZGVsZXRlLWljb25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9kZWxldGVDYXJkKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzX19pbWFnZVwiKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9hbHRlcm5hdGl2ZTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzX19kZXBpY3Rpb25cIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2FyZCB9OyIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuaW5wdXRTZWxlY3RvcikgLy/Qn9C+0LvRg9GH0LDQtdC8INC40L3Qv9GD0YLRi1xuICAgICk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkXG4gICAgICA/IHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudClcbiAgICAgIDogdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgX2Rpc2FibGVTdWJtaXRCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTsgLy8g0KLQuNC/INC60L3QvtC/0LrQuCjRgdC+0YXRgNCw0L3QuNGPINC/0L7Qv9Cw0L/QsCkg0LLRi9C60LvRjtGH0LXQvdC90LBcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIF9lbmFibGVTdWJtaXRCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgdGhpcy5faGFzSW52YWxpZElucHV0KClcbiAgICAgID8gdGhpcy5fZGlzYWJsZVN1Ym1pdEJ1dHRvbigpXG4gICAgICA6IHRoaXMuX2VuYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuXG5leHBvcnQgeyBGb3JtVmFsaWRhdG9yIH07XG4iLCJjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpOyAvLyDQvtGC0LrRgNGL0YLRjCDQv9C+0L/QsNC/XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTsgLy8g0JfQsNC60YDRi9GC0Ywg0L/QvtC/0LDQv1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX29wZW5lZFwiKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fY2xvc2UtYnV0dG9uXCIpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuZXhwb3J0IHsgUG9wdXAgfTtcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlckZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVyRm9ybVN1Ym1pdCA9IGhhbmRsZXJGb3JtU3VibWl0O1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIC8vINGC0YPRgiDQstGB0YLQsNCy0LvRj9C10Lwg0LIgYHZhbHVlYCDQuNC90L/Rg9GC0LAg0LTQsNC90L3Ri9C1INC40Lcg0L7QsdGK0LXQutGC0LAg0L/QviDQsNGC0YDQuNCx0YPRgtGDIGBuYW1lYCDRjdGC0L7Qs9C+INC40L3Qv9GD0YLQsFxuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xuICAgIH0pO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2Zvcm1EYXRhID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtRGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9mb3JtRGF0YTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlckZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgUG9wdXBXaXRoRm9ybSB9O1xuIiwiaW1wb3J0IGFsdGFpTW91bnRhaW5zIGZyb20gXCIuLi9pbWFnZXMvQWx0YWktbW91bnRhaW5zLmpwZ1wiO1xuaW1wb3J0IGthbWNoYXRrYVJ1c3NpYSBmcm9tIFwiLi4vaW1hZ2VzL0thbWNoYXRrYS1SdXNzaWEuanBnXCI7XG5pbXBvcnQga3VuZ3VyQ2F2ZSBmcm9tIFwiLi4vaW1hZ2VzL0t1bmd1ci1jYXZlLmpwZ1wiO1xuaW1wb3J0IGxha2VFbHRvbiBmcm9tIFwiLi4vaW1hZ2VzL2xha2UtZWx0b24uanBnXCI7XG5pbXBvcnQgbWFyYmxlQ2FueW9uIGZyb20gXCIuLi9pbWFnZXMvTWFyYmxlLUNhbnlvbi1SdXNrZWFsYS5qcGdcIjtcbmltcG9ydCB2YWxsZXlHZXlzZXJzIGZyb20gXCIuLi9pbWFnZXMvVmFsbGV5LW9mLUdleXNlcnMuanBnXCI7XG5cblxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCLQk9C+0YDRiyDQsNC70YLQsNGPXCIsXG4gICAgbGluazogYWx0YWlNb3VudGFpbnMsXG4gICAgYWx0ZXJuYXRpdmU6IFwi0JjQt9C+0LHRgNCw0LbQtdC90LjQtSDQk9C+0YDRiyDQsNC70YLQsNGPXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCa0LDQvNGH0LDRgtC60LBcIixcbiAgICBsaW5rOiBrYW1jaGF0a2FSdXNzaWEsXG4gICAgYWx0ZXJuYXRpdmU6IFwi0JjQt9C+0LHRgNCw0LbQtdC90LjQtSDQmtCw0LzRh9Cw0YLQutCwXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCa0YPQvdCz0YPRgNGB0LrQsNGPINC/0LXRidC10YDQsFwiLFxuICAgIGxpbms6IGt1bmd1ckNhdmUsXG4gICAgYWx0ZXJuYXRpdmU6IFwi0JjQt9C+0LHRgNCw0LbQtdC90LjQtSDQmtGD0L3Qs9GD0YDRgdC60LDRjyDQv9C10YnQtdGA0LBcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0J7Qt9C10YDQviDRjdC70YzRgtC+0L1cIixcbiAgICBsaW5rOiBsYWtlRWx0b24sXG4gICAgYWx0ZXJuYXRpdmU6IFwi0JjQt9C+0LHRgNCw0LbQtdC90LjQtSDQntC30LXRgNC+INGN0LvRjNGC0L7QvVwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQnNGA0LDQvNC+0YDQvdGL0Lkg0LrQsNC90YzQvtC9INCg0YPRgdC60LXQsNC70LBcIixcbiAgICBsaW5rOiBtYXJibGVDYW55b24sXG4gICAgYWx0ZXJuYXRpdmU6IFwi0JjQt9C+0LHRgNCw0LbQtdC90LjQtSDQnNGA0LDQvNC+0YDQvdGL0Lkg0LrQsNC90YzQvtC9INCg0YPRgdC60LXQsNC70LBcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JTQvtC70LjQvdCwINCz0LXQudC30LXRgNC+0LJcIixcbiAgICBsaW5rOiB2YWxsZXlHZXlzZXJzLFxuICAgIGFsdGVybmF0aXZlOiBcItCY0LfQvtCx0YDQsNC20LXQvdC40LUg0JTQvtC70LjQvdCwINCz0LXQudC30LXRgNC+0LJcIixcbiAgfSxcbl07XG5cbmNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuLyog0KHQldCa0KbQmNCvINCi0JXQnNCf0JvQldCZ0KIgKNCa0JDQoNCi0J7Qp9Ca0JgpICovXG5jb25zdCBwbGFjZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc1wiKTsgLy8g0LHQu9C+0Log0LIgaHRtbCDQtNC70Y8g0LrQsNGA0YLQvtGH0LrQuFxuXG4vKiDQn9Ce0J/QkNCfINCg0JXQlNCQ0JrQotCY0KDQntCS0JDQndCY0JUg0J/QoNCe0KTQmNCb0K8gKi9cbmNvbnN0IHByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpOyAvLyDQutC90L7Qv9C60LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQv9GA0L7RhNC40LvRgdGPXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwX19wcm9maWxlLXNldHRpbmdcIik7IC8vINGB0LXQutGG0LjRjyDQv9C+0L/QsNC/XG5jb25zdCBjbG9zZUJ1dHRvblBvcHVwUHJvZmlsZSA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFxuICBcIiNwcm9maWxlLXNldHRpbmdfY2xvc2UtYnV0dG9uXCJcbik7IC8vINC60L3QvtC/0LrQsCDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L9cbi8vY29uc3QgZm9ybUVsUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1zZXR0aW5nX19mb3JtXCIpOyAvL9GE0L7RgNC80LAg0LjQvdC/0YPRgtC+0LJcbmNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X25hbWVcIik7IC8vINC40L3Qv9GD0YIg0YEg0LjQvNC10L3QtdC8XG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTsgLy8g0LjQvNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBkZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfZGVzY3JpcHRpb25cIik7IC8vINC40L3Qv9GD0YIg0YEg0L7Qv9C40YHQsNC90LjQtdC8XG5jb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7IC8vINC+0L/QuNGB0LDQvdC40LUg0L/RgNC+0YTQuNC70YHRj1xuLyog0KDQldCU0JDQmtCi0JjQoNCe0JLQkNCd0JjQlSDQn9Cg0J7QpNCY0JvQryAqL1xuXG4vKiDQn9Ce0J/QkNCfINCU0J7QkdCQ0JLQm9CV0J3QmNCvINCa0JDQoNCi0J7Qp9Ca0JggKi9cbmNvbnN0IGNhcmRzQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpOyAvLyDQutC90L7Qv9C60LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQutCw0YDRgtC+0YfQtdC6XG5jb25zdCBwb3B1cENhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cF9fY2FyZHMtc2V0dGluZ1wiKTsgLy8g0YHQtdC60YbQuNGPINC/0L7Qv9Cw0L8g0YEg0LrQsNGA0YLQvtGH0LrQsNC80LhcbmNvbnN0IGNsb3NlQnV0dG9uQ2FyZHMgPSBwb3B1cENhcmRzLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI2NhcmRzLXNldHRpbmdfY2xvc2UtYnV0dG9uXCJcbik7IC8vINC60L3QvtC/0LrQsCDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L9cbi8vY29uc3QgZm9ybUVsQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRzLXNldHRpbmdfX2Zvcm1cIik7IC8v0YTQvtGA0LzQsCDQuNC90L/Rg9GC0L7QslxuY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3RpdGxlXCIpOyAvLyDQuNC90L/Rg9GCINGBINC90LDQt9Cy0LDQvdC40LXQvFxuY29uc3QgdXJsSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF91cmxcIik7IC8vINC40L3Qv9GD0YIg0YEg0YHRgdGL0LvQutC+0Llcbi8qINCf0J7Qn9CQ0J8g0JTQntCR0JDQktCb0JXQndCY0K8g0JrQkNCg0KLQntCn0JrQmCAqL1xuXG4vKiDQn9Ce0J/QkNCfINCf0KDQntCh0JzQntCi0KDQkCDQmtCQ0KDQotCe0KfQmtCYICovXG5jb25zdCBwb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1pbWFnZVwiKTsgLy8g0L/QvtC/0LDQvyDRgSDQutCw0YDRgtC40L3QutC+0LlcblxuZXhwb3J0IHtcbiAgaW5pdGlhbENhcmRzLFxuICB2YWxpZGF0aW9uQ29uZmlnLFxuICBwbGFjZXMsXG4gIHByb2ZpbGVCdXR0b24sXG4gIHBvcHVwUHJvZmlsZSxcbiAgbmFtZUlucHV0LFxuICBwcm9maWxlTmFtZSxcbiAgZGVzY3JpcHRpb25JbnB1dCxcbiAgZGVzY3JpcHRpb24sXG4gIGNhcmRzQWRkQnV0dG9uLFxuICBwb3B1cENhcmRzLFxuICB0aXRsZUlucHV0LFxuICB1cmxJbnB1dCxcbiAgcG9wdXBJbWFnZSxcbiAgY2xvc2VCdXR0b25Qb3B1cFByb2ZpbGUsXG4gIGNsb3NlQnV0dG9uQ2FyZHMsXG59O1xuIiwiaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgeyBjbG9zZVBvcHVwIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7XG4gIGluaXRpYWxDYXJkcyxcbiAgdmFsaWRhdGlvbkNvbmZpZyxcbiAgcGxhY2VzLFxuICBwcm9maWxlQnV0dG9uLFxuICBuYW1lSW5wdXQsXG4gIHByb2ZpbGVOYW1lLFxuICBkZXNjcmlwdGlvbklucHV0LFxuICBkZXNjcmlwdGlvbixcbiAgY2FyZHNBZGRCdXR0b24sXG4gIHRpdGxlSW5wdXQsXG4gIHVybElucHV0LFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuXG4vLyDQpNC+0YDQvNGLINCy0LDQu9C40LTQsNGG0LjQuFxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuLy8g0YHQvtC30LTQsNGR0Lwg0LrQsNGA0YLQvtGH0LrRg1xuZnVuY3Rpb24gY3JlYXRlQ2FyZChvYmplY3QpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKG9iamVjdCwgXCIjdGVtcGxhdGUtcGxhY2VcIiwgaGFuZGxlQ2FyZENsaWNrKTtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG5cbi8vINC+0YLQutGA0YvRgtGMINC/0L7Qv9Cw0L8g0YEg0LrQsNGA0YLQuNC90LrQvtC5XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhuYW1lLCBsaW5rKSB7XG4gIHBvcHVwV2l0aEltYWdlLm9wZW4oeyBuYW1lLCBsaW5rIH0pO1xufVxuXG4vLyDQktC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4XG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudCk7XG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn07XG5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25Db25maWcpO1xuXG4vLyDQmtC70LDRgdGBIHBvcHVwV2l0aEltYWdlICA9PlxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXAtaW1hZ2VcIik7XG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQmtC70LDRgdGBIFNlY3Rpb24gID0+XG5jb25zdCBkZWZhdWx0Q2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIC8v0LTQvtCx0LDQstC70Y/QtdC8INC90LAg0YHRgtGA0LDQvdC40YbRgyDQtNC10YTQvtC70YIg0LrQsNGA0YLQvtGH0LrQuFxuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXG4gICAgcmVuZGVyZXI6IChlbGVtZW50KSA9PiB7XG4gICAgICBkZWZhdWx0Q2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGVsZW1lbnQpKTtcbiAgICB9LFxuICB9LFxuICBwbGFjZXNcbik7XG5kZWZhdWx0Q2FyZExpc3QucmVuZGVySXRlbXMoKTtcblxuLy8g0JrQu9Cw0YHRgSDQv9C+0L/QsNC/INC60LDRgNGC0L7Rh9C60LggPT5cbmNvbnN0IHBvcHVwQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3BvcHVwX19jYXJkcy1zZXR0aW5nXCIsIChvYmplY3QpID0+IHtcbiAgZGVmYXVsdENhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChvYmplY3QpKTtcbn0pO1xucG9wdXBDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vINCa0LvQsNGB0YEg0L/QvtC/0LDQvyDQv9GA0L7RhNC40LvRjywg0Y7Qt9C10YDQsCA9PlxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8ocHJvZmlsZU5hbWUsIGRlc2NyaXB0aW9uKTtcblxuY29uc3QgcG9wdXBQcm9maWxlU2V0dGluZyA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwb3B1cF9fcHJvZmlsZS1zZXR0aW5nXCIsXG4gIChvYmplY3QpID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhvYmplY3QpO1xuICB9XG4pO1xucG9wdXBQcm9maWxlU2V0dGluZy5zZXRFdmVudExpc3RlbmVycygpO1xuXG5wcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIC8vINC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINC/0L4g0L3QsNC20LDRgtC40Y4g0L3QsCDQutC90L7Qv9C60YMg0L/RgNC+0YTQuNC70Y9cbiAgcG9wdXBQcm9maWxlU2V0dGluZy5vcGVuKCk7XG4gIHBvcHVwUHJvZmlsZVNldHRpbmcuc2V0SW5wdXRWYWx1ZXModXNlckluZm8uZ2V0VXNlckluZm8oKSk7XG4gIGZvcm1WYWxpZGF0b3JzW1wicHJvZmlsZS1zZXR1cC1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbmNhcmRzQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIC8v0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0L/QviDQvdCw0LbQsNGC0LjRjiDQvdCwINC60L3QvtC/0LrRgyDQtNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG4gIHBvcHVwQ2FyZC5vcGVuKCk7XG4gIGZvcm1WYWxpZGF0b3JzW1wiY2FyZHMtc2V0dGluZy1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtaW1hZ2VfX2ltYWdlXCIpOyAvL9C60LDRgNGC0LjQvdC60LAg0L/QvtC/0LDQv9CwXG4gICAgdGhpcy5fY2FwdGlvblBvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFxuICAgICAgLy8g0J7Qv9C40YHQsNC90LjQtSDQutCw0YDRgtC40L3QutC4XG4gICAgICBcIi5wb3B1cC1pbWFnZV9fY2FwdGlvblwiXG4gICAgKTtcbiAgfVxuXG4gIG9wZW4oaW1hZ2UpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy5fY2FwdGlvblBvcHVwSW1hZ2UudGV4dENvbnRlbnQgPSBpbWFnZS5uYW1lO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gaW1hZ2UubGluaztcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IGDQmNC30L7QsdGA0LDQttC10L3QuNC1ICR7aW1hZ2UubmFtZX1gO1xuICB9XG59XG5cbmV4cG9ydCB7IFBvcHVwV2l0aEltYWdlIH07XG4iLCJjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyKSB7XG4gICAgdGhpcy5faW5pdGlhbEFycmF5ID0gaXRlbXM7XG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pbml0aWFsQXJyYXkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuXG5leHBvcnQgeyBTZWN0aW9uIH07XG4iLCJjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKG5hbWVJbnB1dCwgZGVzY3JpcHRpb25JbnB1dCkge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lSW5wdXQ7XG4gICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbklucHV0O1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgdGhpcy5fdXNlckluZm8gPSB7fTtcbiAgICB0aGlzLl91c2VySW5mby51c2VybmFtZSA9IHRoaXMuX25hbWUudGV4dENvbnRlbnQ7XG4gICAgdGhpcy5fdXNlckluZm8uZGVzY3JpcHRpb25JbXB1dCA9IHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50O1xuICAgIHJldHVybiB0aGlzLl91c2VySW5mbztcbiAgfVxuXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gZGF0YS51c2VybmFtZTtcbiAgICB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEuZGVzY3JpcHRpb25JbXB1dDtcbiAgfVxufVxuZXhwb3J0IHsgVXNlckluZm8gfTtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2FsdGVybmF0aXZlIiwiYWx0ZXJuYXRpdmUiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfZ2V0VGVtcGxhdGUiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl90b2dnbGVMaWtlIiwiZXZ0IiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX2RlbGV0ZUNhcmQiLCJlbGVtZW50IiwicmVtb3ZlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2NhcmRJbWFnZSIsImdlbmVyYXRlQ2FyZCIsImFsdCIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm0iLCJfY29uZmlnIiwiX2Zvcm0iLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2hpZGVJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiX2Vycm9yRWxlbWVudCIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9zaG93SW5wdXRFcnJvciIsImFkZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0Iiwic29tZSIsIl9kaXNhYmxlU3VibWl0QnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX2VuYWJsZVN1Ym1pdEJ1dHRvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJyZXNldFZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlckZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVyRm9ybVN1Ym1pdCIsIl9wb3B1cEZvcm0iLCJyZXNldCIsInNldElucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsIl9nZXRJbnB1dFZhbHVlcyIsIl9mb3JtRGF0YSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJpbml0aWFsQ2FyZHMiLCJwbGFjZXMiLCJwcm9maWxlQnV0dG9uIiwicHJvZmlsZU5hbWUiLCJkZXNjcmlwdGlvbiIsImNhcmRzQWRkQnV0dG9uIiwiZm9ybVZhbGlkYXRvcnMiLCJjcmVhdGVDYXJkIiwib2JqZWN0IiwicG9wdXBXaXRoSW1hZ2UiLCJmb3JtU2VsZWN0b3IiLCJmb3JtRWxlbWVudCIsInZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIiwiX3BvcHVwSW1hZ2UiLCJfY2FwdGlvblBvcHVwSW1hZ2UiLCJpbWFnZSIsImRlZmF1bHRDYXJkTGlzdCIsIml0ZW1zIiwicmVuZGVyZXIiLCJjb250YWluZXIiLCJfaW5pdGlhbEFycmF5IiwiX2NvbnRhaW5lciIsIl9yZW5kZXJlciIsInJlbmRlckl0ZW1zIiwiYWRkSXRlbSIsInByZXBlbmQiLCJwb3B1cENhcmQiLCJ1c2VySW5mbyIsIm5hbWVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJfZGVzY3JpcHRpb24iLCJnZXRVc2VySW5mbyIsIl91c2VySW5mbyIsInVzZXJuYW1lIiwiZGVzY3JpcHRpb25JbXB1dCIsInNldFVzZXJJbmZvIiwicG9wdXBQcm9maWxlU2V0dGluZyJdLCJzb3VyY2VSb290IjoiIn0=