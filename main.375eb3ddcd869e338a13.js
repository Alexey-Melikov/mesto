(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&(t=r.currentScript.src),!t)){var s=r.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();class t{constructor(e,t,r){this._name=e.name,this._link=e.link,this._alternative=e.alternative,this._templateSelector=t,this._handleCardClick=r}_getTemplate(){return document.querySelector(this._templateSelector).content.querySelector(".places__place").cloneNode(!0)}_toggleLike(e){e.target.classList.toggle("places__heart_active")}_deleteCard(e){e.remove()}_setEventListeners(){this._element.querySelector(".places__heart").addEventListener("click",this._toggleLike),this._element.querySelector(".places__delete-icon").addEventListener("click",(()=>{this._deleteCard(this._element)})),this._cardImage.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))}generateCard(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".places__image"),this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._alternative,this._element.querySelector(".places__depiction").textContent=this._name,this._element}}class r{constructor(e,t){this._config=e,this._form=t,this._inputList=Array.from(this._form.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._form.querySelector(this._config.submitButtonSelector)}_hideInputError(e){this._errorElement=this._form.querySelector(`.${e.id}-error`),e.classList.remove(this._config.inputErrorClass),this._errorElement.classList.remove(this._config.errorClass),this._errorElement.textContent=""}_showInputError(e){this._errorElement=this._form.querySelector(`.${e.id}-error`),e.classList.add(this._config.inputErrorClass),this._errorElement.textContent=e.validationMessage,this._errorElement.classList.add(this._config.errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_disableSubmitButton(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0}_enableSubmitButton(){this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1}_toggleButtonState(){this._hasInvalidInput()?this._disableSubmitButton():this._enableSubmitButton()}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._setEventListeners()}}class s{constructor(e){this._popup=document.querySelector(e)}open(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popup.addEventListener("mousedown",(e=>{e.target.classList.contains("popup_opened")&&this.close(),e.target.classList.contains("popup__close-button")&&this.close()}))}}class i extends s{constructor(e,t){super(e),this._handlerFormSubmit=t,this._popupForm=this._popup.querySelector(".popup__form"),this._inputList=this._popupForm.querySelectorAll(".popup__input")}close(){super.close(),this._popupForm.reset()}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}_getInputValues(){return this._formData={},this._inputList.forEach((e=>{this._formData[e.name]=e.value})),this._formData}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handlerFormSubmit(this._getInputValues()),this.close()}))}}const n=[{name:"Горы алтая",link:e.p+"4491e752b5e39863fc80.jpg",alternative:"Изображение Горы алтая"},{name:"Камчатка",link:e.p+"6b7ad77dc5f7e1407dd6.jpg",alternative:"Изображение Камчатка"},{name:"Кунгурская пещера",link:e.p+"ef9c8d0257fe996080b8.jpg",alternative:"Изображение Кунгурская пещера"},{name:"Озеро эльтон",link:e.p+"61a13b461b8a7d0a6d32.jpg",alternative:"Изображение Озеро эльтон"},{name:"Мраморный каньон Рускеала",link:e.p+"d987e5abb9f5495b8ce2.jpg",alternative:"Изображение Мраморный каньон Рускеала"},{name:"Долина гейзеров",link:e.p+"b8cc9bf72a1e3172fcc2.jpg",alternative:"Изображение Долина гейзеров"}],o=document.querySelector(".places"),a=document.querySelector(".profile__edit-button"),p=(document.querySelector("#popup__profile-setting").querySelector("#profile-setting_close-button"),document.querySelector(".popup__input_name"),document.querySelector(".profile__name")),l=(document.querySelector(".popup__input_description"),document.querySelector(".profile__description")),c=document.querySelector(".profile__add-button"),u=(document.querySelector("#popup__cards-setting").querySelector("#cards-setting_close-button"),document.querySelector(".popup__input_title"),document.querySelector(".popup__input_url"),document.querySelector(".popup__cards-button"),document.querySelector(".popup-image"),Array.from(document.querySelectorAll(".popup__close-button")),{});function _(e){return new t(e,"#template-place",h).generateCard()}function h(e,t){m.open({name:e,link:t})}var d;d={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(d.formSelector)).forEach((e=>{const t=new r(d,e),s=e.getAttribute("name");u[s]=t,t.enableValidation()}));const m=new class extends s{constructor(e){super(e),this._popupImage=this._popup.querySelector(".popup-image__image"),this._captionPopupImage=this._popup.querySelector(".popup-image__caption")}open(e){super.open(),this._captionPopupImage.textContent=e.name,this._popupImage.src=e.link,this._popupImage.alt=`Изображение ${e.name}`}}(".popup-image");m.setEventListeners();const g=new class{constructor({items:e,renderer:t},r){this._initialArray=e,this._container=r,this._renderer=t}renderItems(){this._initialArray.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:n,renderer:e=>{g.addItem(_(e))}},o);g.renderItems();const f=new i("#popup__cards-setting",(e=>{g.addItem(_(e))}));f.setEventListeners();const v=new class{constructor(e,t){this._name=e,this._description=t}getUserInfo(){return this._userInfo={},this._userInfo.username=this._name.textContent,this._userInfo.descriptionImput=this._description.textContent,this._userInfo}setUserInfo(e){this._name.textContent=e.username,this._description.textContent=e.descriptionImput}}(p,l),S=new i("#popup__profile-setting",(e=>{v.setUserInfo(e)}));S.setEventListeners(),a.addEventListener("click",(function(){S.open(),S.setInputValues(v.getUserInfo()),u["profile-setup-form"].resetValidation()})),c.addEventListener("click",(function(){f.open(),u["cards-setting-form"].resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3JCeEksS0FBS3FCLE1BQVFrSCxFQUNidkksS0FBS3lJLGFBQWVELENBQ3RCLENBRUFFLGNBSUUsT0FIQTFJLEtBQUsySSxVQUFZLENBQUMsRUFDbEIzSSxLQUFLMkksVUFBVUMsU0FBVzVJLEtBQUtxQixNQUFNMEIsWUFDckMvQyxLQUFLMkksVUFBVUUsaUJBQW1CN0ksS0FBS3lJLGFBQWExRixZQUM3Qy9DLEtBQUsySSxTQUNkLENBRUFHLFlBQVk1SCxHQUNWbEIsS0FBS3FCLE1BQU0wQixZQUFjN0IsRUFBSzBILFNBQzlCNUksS0FBS3lJLGFBQWExRixZQUFjN0IsRUFBSzJILGdCQUN2QyxHSDJENEJqQyxFQUFhQyxHQUVyQ2tDLEVBQXNCLElBQUluRCxFQUM5QiwyQkFDQ3FCLElBQ0NxQixFQUFTUSxZQUFZN0IsRUFBTyxJQUdoQzhCLEVBQW9CckQsb0JBRXBCaUIsRUFBY2hFLGlCQUFpQixTQUFTLFdBRXRDb0csRUFBb0IxRCxPQUNwQjBELEVBQW9CN0MsZUFBZW9DLEVBQVNJLGVBQzVDM0IsRUFBZSxzQkFBc0IvQixpQkFDdkMsSUFFQThCLEVBQWVuRSxpQkFBaUIsU0FBUyxXQUV2QzBGLEVBQVVoRCxPQUNWMEIsRUFBZSxzQkFBc0IvQixpQkFDdkMsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihkYXRhLCB0ZW1wbGF0ZVNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2spIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fYWx0ZXJuYXRpdmUgPSBkYXRhLmFsdGVybmF0aXZlO1xuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZXNfX3BsYWNlXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgX3RvZ2dsZUxpa2UoZXZ0KSB7XG4gICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwicGxhY2VzX19oZWFydF9hY3RpdmVcIik7XG4gIH1cblxuICBfZGVsZXRlQ2FyZChlbGVtZW50KSB7XG4gICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9lbGVtZW50IC8vINCh0YLQsNCy0LjQvCDQu9Cw0LnQulxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzX19oZWFydFwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl90b2dnbGVMaWtlKTtcblxuICAgIHRoaXMuX2VsZW1lbnQgLy8g0KPQtNCw0LvRj9C10Lwg0LrQsNGA0YLQvtGH0LrRg1xuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzX19kZWxldGUtaWNvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2RlbGV0ZUNhcmQodGhpcy5fZWxlbWVudCk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xuICAgIH0pO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZXNfX2ltYWdlXCIpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX2FsdGVybmF0aXZlO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZXNfX2RlcGljdGlvblwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxufVxuXG5leHBvcnQgeyBDYXJkIH07IiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybSkge1xuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKSAvL9Cf0L7Qu9GD0YfQsNC10Lwg0LjQvdC/0YPRgtGLXG4gICAgKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcbiAgICAgID8gdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KVxuICAgICAgOiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XG4gIH1cblxuICBfZGlzYWJsZVN1Ym1pdEJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpOyAvLyDQotC40L8g0LrQvdC+0L/QutC4KNGB0L7RhdGA0LDQvdC40Y8g0L/QvtC/0LDQv9CwKSDQstGL0LrQu9GO0YfQtdC90L3QsFxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgX2VuYWJsZVN1Ym1pdEJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICB0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKVxuICAgICAgPyB0aGlzLl9kaXNhYmxlU3VibWl0QnV0dG9uKClcbiAgICAgIDogdGhpcy5fZW5hYmxlU3VibWl0QnV0dG9uKCk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG5cbmV4cG9ydCB7IEZvcm1WYWxpZGF0b3IgfTtcbiIsImNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7IC8vINC+0YLQutGA0YvRgtGMINC/0L7Qv9Cw0L9cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpOyAvLyDQl9Cw0LrRgNGL0YLRjCDQv9C+0L/QsNC/XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfb3BlbmVkXCIpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZS1idXR0b25cIikpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5leHBvcnQgeyBQb3B1cCB9O1xuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVyRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZXJGb3JtU3VibWl0ID0gaGFuZGxlckZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgLy8g0YLRg9GCINCy0YHRgtCw0LLQu9GP0LXQvCDQsiBgdmFsdWVgINC40L3Qv9GD0YLQsCDQtNCw0L3QvdGL0LUg0LjQtyDQvtCx0YrQtdC60YLQsCDQv9C+INCw0YLRgNC40LHRg9GC0YMgYG5hbWVgINGN0YLQvtCz0L4g0LjQvdC/0YPRgtCwXG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XG4gICAgfSk7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fZm9ybURhdGEgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1EYXRhW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1EYXRhO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVyRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBQb3B1cFdpdGhGb3JtIH07XG4iLCJpbXBvcnQgYWx0YWlNb3VudGFpbnMgZnJvbSBcIi4uL2ltYWdlcy9BbHRhaS1tb3VudGFpbnMuanBnXCI7XG5pbXBvcnQga2FtY2hhdGthUnVzc2lhIGZyb20gXCIuLi9pbWFnZXMvS2FtY2hhdGthLVJ1c3NpYS5qcGdcIjtcbmltcG9ydCBrdW5ndXJDYXZlIGZyb20gXCIuLi9pbWFnZXMvS3VuZ3VyLWNhdmUuanBnXCI7XG5pbXBvcnQgbGFrZUVsdG9uIGZyb20gXCIuLi9pbWFnZXMvbGFrZS1lbHRvbi5qcGdcIjtcbmltcG9ydCBtYXJibGVDYW55b24gZnJvbSBcIi4uL2ltYWdlcy9NYXJibGUtQ2FueW9uLVJ1c2tlYWxhLmpwZ1wiO1xuaW1wb3J0IHZhbGxleUdleXNlcnMgZnJvbSBcIi4uL2ltYWdlcy9WYWxsZXktb2YtR2V5c2Vycy5qcGdcIjtcblxuXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcItCT0L7RgNGLINCw0LvRgtCw0Y9cIixcbiAgICBsaW5rOiBhbHRhaU1vdW50YWlucyxcbiAgICBhbHRlcm5hdGl2ZTogXCLQmNC30L7QsdGA0LDQttC10L3QuNC1INCT0L7RgNGLINCw0LvRgtCw0Y9cIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JrQsNC80YfQsNGC0LrQsFwiLFxuICAgIGxpbms6IGthbWNoYXRrYVJ1c3NpYSxcbiAgICBhbHRlcm5hdGl2ZTogXCLQmNC30L7QsdGA0LDQttC10L3QuNC1INCa0LDQvNGH0LDRgtC60LBcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JrRg9C90LPRg9GA0YHQutCw0Y8g0L/QtdGJ0LXRgNCwXCIsXG4gICAgbGluazoga3VuZ3VyQ2F2ZSxcbiAgICBhbHRlcm5hdGl2ZTogXCLQmNC30L7QsdGA0LDQttC10L3QuNC1INCa0YPQvdCz0YPRgNGB0LrQsNGPINC/0LXRidC10YDQsFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQntC30LXRgNC+INGN0LvRjNGC0L7QvVwiLFxuICAgIGxpbms6IGxha2VFbHRvbixcbiAgICBhbHRlcm5hdGl2ZTogXCLQmNC30L7QsdGA0LDQttC10L3QuNC1INCe0LfQtdGA0L4g0Y3Qu9GM0YLQvtC9XCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCc0YDQsNC80L7RgNC90YvQuSDQutCw0L3RjNC+0L0g0KDRg9GB0LrQtdCw0LvQsFwiLFxuICAgIGxpbms6IG1hcmJsZUNhbnlvbixcbiAgICBhbHRlcm5hdGl2ZTogXCLQmNC30L7QsdGA0LDQttC10L3QuNC1INCc0YDQsNC80L7RgNC90YvQuSDQutCw0L3RjNC+0L0g0KDRg9GB0LrQtdCw0LvQsFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQlNC+0LvQuNC90LAg0LPQtdC50LfQtdGA0L7QslwiLFxuICAgIGxpbms6IHZhbGxleUdleXNlcnMsXG4gICAgYWx0ZXJuYXRpdmU6IFwi0JjQt9C+0LHRgNCw0LbQtdC90LjQtSDQlNC+0LvQuNC90LAg0LPQtdC50LfQtdGA0L7QslwiLFxuICB9LFxuXTtcblxuY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG4vKiDQodCV0JrQptCY0K8g0KLQldCc0J/Qm9CV0JnQoiAo0JrQkNCg0KLQntCn0JrQmCkgKi9cbmNvbnN0IHBsYWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzXCIpOyAvLyDQsdC70L7QuiDQsiBodG1sINC00LvRjyDQutCw0YDRgtC+0YfQutC4XG5cbi8qINCf0J7Qn9CQ0J8g0KDQldCU0JDQmtCi0JjQoNCe0JLQkNCd0JjQlSDQn9Cg0J7QpNCY0JvQryAqL1xuY29uc3QgcHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7IC8vINC60L3QvtC/0LrQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC/0YDQvtGE0LjQu9GB0Y9cbmNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXBfX3Byb2ZpbGUtc2V0dGluZ1wiKTsgLy8g0YHQtdC60YbQuNGPINC/0L7Qv9Cw0L9cbmNvbnN0IGNsb3NlQnV0dG9uUG9wdXBQcm9maWxlID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGUtc2V0dGluZ19jbG9zZS1idXR0b25cIlxuKTsgLy8g0LrQvdC+0L/QutCwINC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv1xuLy9jb25zdCBmb3JtRWxQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXNldHRpbmdfX2Zvcm1cIik7IC8v0YTQvtGA0LzQsCDQuNC90L/Rg9GC0L7QslxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfbmFtZVwiKTsgLy8g0LjQvdC/0YPRgiDRgSDQuNC80LXQvdC10LxcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpOyAvLyDQuNC80Y8g0L/RgNC+0YTQuNC70Y9cbmNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF9kZXNjcmlwdGlvblwiKTsgLy8g0LjQvdC/0YPRgiDRgSDQvtC/0LjRgdCw0L3QuNC10LxcbmNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTsgLy8g0L7Qv9C40YHQsNC90LjQtSDQv9GA0L7RhNC40LvRgdGPXG4vKiDQoNCV0JTQkNCa0KLQmNCg0J7QktCQ0J3QmNCVINCf0KDQntCk0JjQm9CvICovXG5cbi8qINCf0J7Qn9CQ0J8g0JTQntCR0JDQktCb0JXQndCY0K8g0JrQkNCg0KLQntCn0JrQmCAqL1xuY29uc3QgY2FyZHNBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7IC8vINC60L3QvtC/0LrQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC60LDRgNGC0L7Rh9C10LpcbmNvbnN0IHBvcHVwQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwX19jYXJkcy1zZXR0aW5nXCIpOyAvLyDRgdC10LrRhtC40Y8g0L/QvtC/0LDQvyDRgSDQutCw0YDRgtC+0YfQutCw0LzQuFxuY29uc3QgY2xvc2VCdXR0b25DYXJkcyA9IHBvcHVwQ2FyZHMucXVlcnlTZWxlY3RvcihcbiAgXCIjY2FyZHMtc2V0dGluZ19jbG9zZS1idXR0b25cIlxuKTsgLy8g0LrQvdC+0L/QutCwINC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv1xuLy9jb25zdCBmb3JtRWxDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZHMtc2V0dGluZ19fZm9ybVwiKTsgLy/RhNC+0YDQvNCwINC40L3Qv9GD0YLQvtCyXG5jb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdGl0bGVcIik7IC8vINC40L3Qv9GD0YIg0YEg0L3QsNC30LLQsNC90LjQtdC8XG5jb25zdCB1cmxJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3VybFwiKTsgLy8g0LjQvdC/0YPRgiDRgSDRgdGB0YvQu9C60L7QuVxuY29uc3QgcG9wdXBDYXJkc1NhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jYXJkcy1idXR0b25cIik7IC8vINCa0L3QvtC/0LrQsCDRgdC+0YXRgNCw0L3QuNC10L3QuNGPINCf0L7Qv9Cw0L/QsCDRgSDQutCw0YDRgtC+0YfQutCw0LzQuFxuLyog0J/QntCf0JDQnyDQlNCe0JHQkNCS0JvQldCd0JjQryDQmtCQ0KDQotCe0KfQmtCYICovXG5cbi8qINCf0J7Qn9CQ0J8g0J/QoNCe0KHQnNCe0KLQoNCQINCa0JDQoNCi0J7Qp9Ca0JggKi9cbmNvbnN0IHBvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWltYWdlXCIpOyAvLyDQv9C+0L/QsNC/INGBINC60LDRgNGC0LjQvdC60L7QuVxuXG5jb25zdCBjbG9zZUJ1dHRvbnMgPSBBcnJheS5mcm9tKFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19jbG9zZS1idXR0b25cIilcbik7XG5cbmV4cG9ydCB7XG4gIGluaXRpYWxDYXJkcyxcbiAgdmFsaWRhdGlvbkNvbmZpZyxcbiAgcGxhY2VzLFxuICBwcm9maWxlQnV0dG9uLFxuICBwb3B1cFByb2ZpbGUsXG4gIG5hbWVJbnB1dCxcbiAgcHJvZmlsZU5hbWUsXG4gIGRlc2NyaXB0aW9uSW5wdXQsXG4gIGRlc2NyaXB0aW9uLFxuICBjYXJkc0FkZEJ1dHRvbixcbiAgcG9wdXBDYXJkcyxcbiAgdGl0bGVJbnB1dCxcbiAgdXJsSW5wdXQsXG4gIHBvcHVwSW1hZ2UsXG4gIGNsb3NlQnV0dG9uUG9wdXBQcm9maWxlLFxuICBwb3B1cENhcmRzU2F2ZUJ1dHRvbixcbiAgY2xvc2VCdXR0b25DYXJkcyxcbiAgY2xvc2VCdXR0b25zLFxufTtcbiIsImltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHsgY2xvc2VQb3B1cCB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQge1xuICBpbml0aWFsQ2FyZHMsXG4gIHZhbGlkYXRpb25Db25maWcsXG4gIHBsYWNlcyxcbiAgcHJvZmlsZUJ1dHRvbixcbiAgbmFtZUlucHV0LFxuICBwcm9maWxlTmFtZSxcbiAgZGVzY3JpcHRpb25JbnB1dCxcbiAgZGVzY3JpcHRpb24sXG4gIGNhcmRzQWRkQnV0dG9uLFxuICB0aXRsZUlucHV0LFxuICB1cmxJbnB1dCxcbiAgY2xvc2VCdXR0b25zLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuXG4vLyDQpNC+0YDQvNGLINCy0LDQu9C40LTQsNGG0LjQuFxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuLy8g0YHQvtC30LTQsNGR0Lwg0LrQsNGA0YLQvtGH0LrRg1xuZnVuY3Rpb24gY3JlYXRlQ2FyZChvYmplY3QpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKG9iamVjdCwgXCIjdGVtcGxhdGUtcGxhY2VcIiwgaGFuZGxlQ2FyZENsaWNrKTtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG5cbi8vINC+0YLQutGA0YvRgtGMINC/0L7Qv9Cw0L8g0YEg0LrQsNGA0YLQuNC90LrQvtC5XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhuYW1lLCBsaW5rKSB7XG4gIHBvcHVwV2l0aEltYWdlLm9wZW4oeyBuYW1lLCBsaW5rIH0pO1xufVxuXG4vLyDQktC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4XG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudCk7XG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn07XG5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25Db25maWcpO1xuXG4vLyDQmtC70LDRgdGBIHBvcHVwV2l0aEltYWdlICA9PlxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXAtaW1hZ2VcIik7XG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQmtC70LDRgdGBIFNlY3Rpb24gID0+XG5jb25zdCBkZWZhdWx0Q2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIC8v0LTQvtCx0LDQstC70Y/QtdC8INC90LAg0YHRgtGA0LDQvdC40YbRgyDQtNC10YTQvtC70YIg0LrQsNGA0YLQvtGH0LrQuFxuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXG4gICAgcmVuZGVyZXI6IChlbGVtZW50KSA9PiB7XG4gICAgICBkZWZhdWx0Q2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGVsZW1lbnQpKTtcbiAgICB9LFxuICB9LFxuICBwbGFjZXNcbik7XG5kZWZhdWx0Q2FyZExpc3QucmVuZGVySXRlbXMoKTtcblxuLy8g0JrQu9Cw0YHRgSDQv9C+0L/QsNC/INC60LDRgNGC0L7Rh9C60LggPT5cbmNvbnN0IHBvcHVwQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3BvcHVwX19jYXJkcy1zZXR0aW5nXCIsIChvYmplY3QpID0+IHtcbiAgZGVmYXVsdENhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChvYmplY3QpKTtcbn0pO1xucG9wdXBDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vINCa0LvQsNGB0YEg0L/QvtC/0LDQvyDQv9GA0L7RhNC40LvRjywg0Y7Qt9C10YDQsCA9PlxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8ocHJvZmlsZU5hbWUsIGRlc2NyaXB0aW9uKTtcblxuY29uc3QgcG9wdXBQcm9maWxlU2V0dGluZyA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwb3B1cF9fcHJvZmlsZS1zZXR0aW5nXCIsXG4gIChvYmplY3QpID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhvYmplY3QpO1xuICB9XG4pO1xucG9wdXBQcm9maWxlU2V0dGluZy5zZXRFdmVudExpc3RlbmVycygpO1xuXG5wcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIC8vINC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINC/0L4g0L3QsNC20LDRgtC40Y4g0L3QsCDQutC90L7Qv9C60YMg0L/RgNC+0YTQuNC70Y9cbiAgcG9wdXBQcm9maWxlU2V0dGluZy5vcGVuKCk7XG4gIHBvcHVwUHJvZmlsZVNldHRpbmcuc2V0SW5wdXRWYWx1ZXModXNlckluZm8uZ2V0VXNlckluZm8oKSk7XG4gIGZvcm1WYWxpZGF0b3JzW1wicHJvZmlsZS1zZXR1cC1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbmNhcmRzQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIC8v0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0L/QviDQvdCw0LbQsNGC0LjRjiDQvdCwINC60L3QvtC/0LrRgyDQtNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG4gIHBvcHVwQ2FyZC5vcGVuKCk7XG4gIGZvcm1WYWxpZGF0b3JzW1wiY2FyZHMtc2V0dGluZy1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtaW1hZ2VfX2ltYWdlXCIpOyAvL9C60LDRgNGC0LjQvdC60LAg0L/QvtC/0LDQv9CwXG4gICAgdGhpcy5fY2FwdGlvblBvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFxuICAgICAgLy8g0J7Qv9C40YHQsNC90LjQtSDQutCw0YDRgtC40L3QutC4XG4gICAgICBcIi5wb3B1cC1pbWFnZV9fY2FwdGlvblwiXG4gICAgKTtcbiAgfVxuXG4gIG9wZW4oaW1hZ2UpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy5fY2FwdGlvblBvcHVwSW1hZ2UudGV4dENvbnRlbnQgPSBpbWFnZS5uYW1lO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gaW1hZ2UubGluaztcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IGDQmNC30L7QsdGA0LDQttC10L3QuNC1ICR7aW1hZ2UubmFtZX1gO1xuICB9XG59XG5cbmV4cG9ydCB7IFBvcHVwV2l0aEltYWdlIH07XG4iLCJjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyKSB7XG4gICAgdGhpcy5faW5pdGlhbEFycmF5ID0gaXRlbXM7XG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pbml0aWFsQXJyYXkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuXG5leHBvcnQgeyBTZWN0aW9uIH07XG4iLCJjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKG5hbWVJbnB1dCwgZGVzY3JpcHRpb25JbnB1dCkge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lSW5wdXQ7XG4gICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbklucHV0O1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgdGhpcy5fdXNlckluZm8gPSB7fTtcbiAgICB0aGlzLl91c2VySW5mby51c2VybmFtZSA9IHRoaXMuX25hbWUudGV4dENvbnRlbnQ7XG4gICAgdGhpcy5fdXNlckluZm8uZGVzY3JpcHRpb25JbXB1dCA9IHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50O1xuICAgIHJldHVybiB0aGlzLl91c2VySW5mbztcbiAgfVxuXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gZGF0YS51c2VybmFtZTtcbiAgICB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEuZGVzY3JpcHRpb25JbXB1dDtcbiAgfVxufVxuZXhwb3J0IHsgVXNlckluZm8gfTtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2FsdGVybmF0aXZlIiwiYWx0ZXJuYXRpdmUiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfZ2V0VGVtcGxhdGUiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl90b2dnbGVMaWtlIiwiZXZ0IiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX2RlbGV0ZUNhcmQiLCJlbGVtZW50IiwicmVtb3ZlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2NhcmRJbWFnZSIsImdlbmVyYXRlQ2FyZCIsImFsdCIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm0iLCJfY29uZmlnIiwiX2Zvcm0iLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2hpZGVJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiX2Vycm9yRWxlbWVudCIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9zaG93SW5wdXRFcnJvciIsImFkZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0Iiwic29tZSIsIl9kaXNhYmxlU3VibWl0QnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX2VuYWJsZVN1Ym1pdEJ1dHRvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJyZXNldFZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlckZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVyRm9ybVN1Ym1pdCIsIl9wb3B1cEZvcm0iLCJyZXNldCIsInNldElucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsIl9nZXRJbnB1dFZhbHVlcyIsIl9mb3JtRGF0YSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJpbml0aWFsQ2FyZHMiLCJwbGFjZXMiLCJwcm9maWxlQnV0dG9uIiwicHJvZmlsZU5hbWUiLCJkZXNjcmlwdGlvbiIsImNhcmRzQWRkQnV0dG9uIiwiZm9ybVZhbGlkYXRvcnMiLCJjcmVhdGVDYXJkIiwib2JqZWN0IiwicG9wdXBXaXRoSW1hZ2UiLCJmb3JtU2VsZWN0b3IiLCJmb3JtRWxlbWVudCIsInZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIiwiX3BvcHVwSW1hZ2UiLCJfY2FwdGlvblBvcHVwSW1hZ2UiLCJpbWFnZSIsImRlZmF1bHRDYXJkTGlzdCIsIml0ZW1zIiwicmVuZGVyZXIiLCJjb250YWluZXIiLCJfaW5pdGlhbEFycmF5IiwiX2NvbnRhaW5lciIsIl9yZW5kZXJlciIsInJlbmRlckl0ZW1zIiwiYWRkSXRlbSIsInByZXBlbmQiLCJwb3B1cENhcmQiLCJ1c2VySW5mbyIsIm5hbWVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJfZGVzY3JpcHRpb24iLCJnZXRVc2VySW5mbyIsIl91c2VySW5mbyIsInVzZXJuYW1lIiwiZGVzY3JpcHRpb25JbXB1dCIsInNldFVzZXJJbmZvIiwicG9wdXBQcm9maWxlU2V0dGluZyJdLCJzb3VyY2VSb290IjoiIn0=